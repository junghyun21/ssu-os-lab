# [Week 02] 파일 입출력

> [!note]  
> 본 문서는 숭실대학교 컴퓨터학부 홍지만 교수님의 2024년 1학기 리눅스시스템프로그래밍 수업을 듣고 정리한 내용입니다. 모든 내용은 개인적으로 정리한 것으로, 틀린 부분이 있을 수 있습니다.

<br>

- [umask에 따른 파일 권한](#umask에-따른-파일-권한)

<br><br>

### umask에 따른 파일 권한

umask는 파일 생성 시 기본적으로 설정되는 **파일 권한을 제어**하는 유틸리티이다. 기본 권한(또는 사용자가 설정한 권한)과 umask 값을 XOR(exclusive OR)연산한 값이, 즉 기본 권한(또는 사용자가 설정한 구너한)에서 umask 값에 해당하는 권한을 제한한 값이 생성될 파일의 권한이 된다. 이 때 기본적으로 설정되어 있는 umask 값은 시스템마다 다르며, 사용자가 변경할 수도 있다.

![img](./img/umask.png)

Linux에서 파일 및 디렉토리의 기본 권한은 다음과 같다.

- 디렉토리: 0777 (rwxrwxrwx)
- 파일: 0666 (rw-rw-rw-)

파일이 생성될 때 각 기본 권한에서 umask 값만큼 권한이 제한되므로 `umask가 0002`인 경우에는 다른 사용자의 쓰기(w) 권한을 제한함을 의미한다. 따라서 새로 생성되는 `디렉토리의 접근 권한은 0775(rwxrwxr-x)`, `파일의 접근 권한은 0664(rw-rw-r--)`이 된다. 만약 `creat("test.txt", 0642);`를 통해 파일을 생성했다면 test.txt 파일의 접근 권한은 `0640(rw-r-----)`가 된다.